---
import type { Artist } from '../../../scripts/types';
import CountryFlag from './CountryFlag.astro';

interface Props {
  artist: Artist;
}

const { artist } = Astro.props;
---

<a
  href={`/artist/${artist.slug}`}
  class="group flex items-center justify-between rounded-md border border-surface-200 bg-surface-50 px-4 py-3 transition-all hover:border-accent/50 hover:bg-surface-100"
>
  <div class="min-w-0 flex items-center">
    <span class="font-medium text-gray-100 group-hover:text-accent-light transition-colors">
      {artist.name}
    </span>
    {artist.tags.length > 0 && (
      <span class="ml-2 text-xs text-gray-500">
        ({artist.tags.join(', ')})
      </span>
    )}
    {artist.country && (
      <span class="ml-2 inline-flex items-center gap-1.5 text-sm text-gray-500">
        <CountryFlag isoCodes={artist.isoCodes} country={artist.country} size={16} />
        {artist.country}
      </span>
    )}
  </div>
  <span class="ml-4 shrink-0 text-sm text-gray-500">
    {artist.albums.length} {artist.albums.length === 1 ? 'album' : 'albums'}
  </span>
</a>
